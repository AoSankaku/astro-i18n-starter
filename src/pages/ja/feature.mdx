---
layout: "@/layouts/Article.astro"
title: "その他の機能"
description: "Astro i18n Theme で使用できるその他の機能について説明します。"
---
import PageHeadline from "@/components/PageHeadline.astro";
import { SITE_TITLE } from "@/consts";

<PageHeadline title={frontmatter.title} />



## Components

`src/components/i18n/` 内には多言語サイトを生成する上で便利なUIコンポーネントをいくつか用意しています。必要に応じて内容をカスタムしたり、importしてご利用ください。

### LocaleSelect.astro
利用言語を切り替えるためのセレクトUIです。

### LocaleSelectSingle.astro
利用言語を切り替えるためのリンクUIです。**言語を2つしかサポートしない場合**にご利用ください。

### LocalesHomeList.astro
各言語のトップページへのリンクを、`<li>`タグのリストで返します。

### LocaleSuggest.astro
ユーザーがブラウザの言語と違うURLにアクセスした場合に、ブラウザの言語へのリンクを最上部に表示するUIです。

例えば、英語設定のブラウザで `/ja/[slug]` というURLにアクセスした場合、 `/en/[slug]` へのリンクを提案します。

いちど閉じると設定がlocalhostに保存され、再表示されません。

### LocaleHtmlHead.astro
localeごとの `<head>` タグ設定を記述できます。サンプルでは各言語の[Noto Font](https://fonts.google.com/noto/)を読み込んでCSSを反映しています。

### NotTranslateCaution.astro
あるページを特定の言語でしか用意できない場合に、ユーザーに警告を表示できます。

[Monolingual](/monolingual/)ページがサンプルです。英語以外の言語でこのページを表示すると、ユーザーに警告UIを表示します。

サンプルでは警告UIのテキストは、`/src/const.ts`内に設定しています。



## 404

{ SITE_TITLE } の404ページは2つのファイルから構成されています。404ページのデザインをカスタムしたい場合、基本的に `src/pages/[lang]/404.astro` だけを編集すればOKです。

### src/pages/404.astro

このファイルは以下を生成します。

> /404.html

多くのデプロイサービスはページが見つからない場合、まずこのファイルを見つけて使用します。

https://docs.astro.build/en/basics/astro-pages/#custom-404-error-page

{ SITE_TITLE } でこのファイルにアクセスされた場合、ユーザーのシステム言語などに対応して、以下の404ページにリダイレクトします。


### src/pages/[lang]/404.astro

このファイルは以下を動的に生成します。

> * /en/404/index.html
> * /ja/404/index.html
> * ...

`history.replaceState()` 処理により、ブラウザにはユーザーがリダイレクト前にアクセスしたURLのpathnameが表示されます。
